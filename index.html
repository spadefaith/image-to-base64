<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image To Base64</title>
    <style>
        body{
        box-sizing: border-box;
        display:grid;
        height: 100vh;
        margin:0;
        padding:1rem;
        max-width: 800px;
        margin:auto;
        }
        form>textarea{
        box-sizing: border-box;
        height: 90%;
        width: 100%;
        }

        form>div{
        display: grid;
        padding: 1rem;
        height: 8%;
        grid-gap: 4px;
        }

        form>div>input{
        border: 1px solid gray;
        }
    </style>
</head>
<body>
    <form>
        <div>
            <input name=file type='file' placeholder='upload image'>
            <button type='submit'>Convert</button>
        </div>
        <textarea></textarea>
    </form>
    <script>
        let text = document.querySelector('textarea');
        let form = document.querySelector('form');

        form.addEventListener('submit', (e)=>{
            e.preventDefault();
            let input = e.target.file;
            let file = input.files[0];
            const reader = new FileReader();
            reader.onload = function(evt) {
                text.textContent = evt.target.result;
                document.body.style.backgroundImage = `url(${evt.target.result})`
            };
            reader.readAsDataURL(file);

        })

    </script>
</body>
</html>